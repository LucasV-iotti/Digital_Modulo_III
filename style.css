* { box-sizing: border-box; }
:root{ --bg:#0f172a; --panel:#111827; --text:#e5e7eb; --muted:#9ca3af; --primary:#22c55e; --danger:#ef4444; --bubble-client:#1f2937; --bubble-agent:#14532d; --accent:#38bdf8; }
body{ margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; background: radial-gradient(1200px 800px at 80% 0%, #0b1020, #060911), var(--bg); color:var(--text); }
.app-header{ display:flex; align-items:center; justify-content:space-between; padding:16px 20px; border-bottom:1px solid #1f2937; background: rgba(0,0,0,.25); position: sticky; top:0; z-index:5; }
.app-header h1{ font-size:20px; margin:0; }
.header-actions .ghost{ margin-left:8px; }
.screen{ display:none; max-width:1100px; margin:24px auto; padding:0 16px; }
.screen.active{ display:block; }
.panel{ background: linear-gradient(180deg, rgba(255,255,255,.04), transparent 30%), var(--panel); border:1px solid #1f2937; border-radius:14px; padding:20px; margin-bottom:16px; }
.panel h2, .panel h3{ margin-top:0; }
.panel.tips ul{ margin:0 0 0 18px; }
.form{ margin-bottom:14px; }
label{ display:block; font-weight:600; margin-bottom:6px; }
label.inline{ display:flex; align-items:center; gap:8px; font-weight:500; }
input[type=text]{ width:100%; padding:12px 14px; border-radius:10px; border:1px solid #374151; background:#0b1221; color:var(--text); }
.avatar-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(64px,1fr)); gap:10px; }
.avatar{ display:flex; align-items:center; justify-content:center; height:64px; font-size:28px; border:2px solid #374151; border-radius:12px; cursor:pointer; user-select:none; }
.avatar.selected{ outline:2px solid var(--accent); background:#0b1221; }
.primary, .ghost, .danger{ cursor:pointer; border-radius:10px; padding:10px 14px; border:1px solid transparent; }
.primary{ background:var(--primary); color:#001b06; font-weight:700; }
.ghost{ background:transparent; color:var(--text); border-color:#374151; }
.ghost.small{ padding:6px 10px; font-size:12px; }
.danger{ background:var(--danger); color:#fff; }
.muted{ color:var(--muted); }
.hud{ display:flex; align-items:center; justify-content:space-between; gap:8px; position: sticky; top:58px; z-index:4; background: rgba(0,0,0,.35); padding:10px 8px; border-bottom:1px solid #1f2937; }
.hud-bars{ flex:1; display:flex; align-items:center; gap:16px; }
.bar{ flex:1; }
.bar-label{ font-size:12px; color:var(--muted); margin-bottom:4px; }
.bar-track{ height:10px; background:#0b1221; border:1px solid #1f2937; border-radius:999px; overflow:hidden; }
.bar-fill{ height:100%; width:0%; background:linear-gradient(90deg, #f59e0b, #22c55e); transition:width .3s ease; }
.mini-metrics{ display:flex; gap:12px; font-size:12px; color:var(--muted); }
.chat{ background: linear-gradient(180deg, rgba(255,255,255,.04), transparent 40%), #0a0f1d; height:58vh; overflow-y:auto; border:1px solid #1f2937; border-radius:14px; padding:16px; }
.msg{ max-width:80%; padding:12px 14px; border-radius:14px; margin:10px 0; line-height:1.35; box-shadow:0 2px 0 rgba(0,0,0,.2); animation: pop .2s ease-out; }
@keyframes pop{ from{ transform: translateY(6px); opacity:.7 } to{ transform:none; opacity:1 } }
.msg.client{ background:var(--bubble-client); border-top-left-radius:6px; }
.msg.agent{ background:var(--bubble-agent); border-top-right-radius:6px; margin-left:auto; }
.msg.system{ background:#0b1221; border:1px dashed #374151; color:var(--muted); font-style:italic; }
.choices{ margin-top:12px; display:grid; gap:10px; }
.choice{ text-align:left; background:#0b1221; border:1px solid #374151; color:var(--text); padding:12px 14px; border-radius:12px; cursor:pointer; }
.choice:hover{ border-color:#4b5563; }
.ranking{ padding-left:16px; }
.modal{ border:none; background:var(--panel); color:var(--text); border-radius:12px; padding:16px 18px; width:min(560px, 92vw); }
.modal::backdrop{ background: rgba(0,0,0,.5); }
.cta-row{ display:flex; gap:10px; flex-wrap:wrap; }
@media (max-width: 640px){ .mini-metrics{ display:none; } .msg{ max-width:100%; } }
