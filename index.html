<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simulador de Negocia√ß√£o - M√≥dulo III</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <header class="app-header">
      <h1>Simulador de Negocia√ß√£o</h1>
      <div class="header-actions">
        <button id="btnRanking" class="ghost">üèÜ Ranking</button>
        <button id="btnInfo" class="ghost">‚ÑπÔ∏è</button>
      </div>
    </header>

    <section id="screenStart" class="screen active">
      <div class="panel">
        <h2>Capacita√ß√£o Digital ‚Äî Miss√£o III</h2>
        <p class="muted">Responda chats com op√ß√µes <strong>quase id√™nticas</strong> e <strong>pegadinhas</strong>. O cliente responde <strong>contextualmente</strong> a cada frase. HUD e feedbacks sempre vis√≠veis.</p>
        <div class="form">
          <label>Seu nome</label>
          <input id="playerName" type="text" placeholder="Digite seu nome" maxlength="40" />
        </div>
        <div class="form">
          <label>Escolha um avatar</label>
          <div class="avatar-grid" id="avatarGrid"></div>
        </div>
        <button id="btnStart" class="primary" disabled>Come√ßar</button>
      </div>
      <div class="panel tips">
        <h3>Como funciona ‚Äî Regras do jogo</h3>
        <ul>
          <li><strong>Objetivo:</strong> concluir negocia√ß√µes aplicando as t√©cnicas e maximizar a pontua√ß√£o.</li>
          <li><strong>Situa√ß√µes:</strong> 5 miss√µes (Desemprego, Doen√ßa na fam√≠lia, Redu√ß√£o de renda, Outras d√≠vidas e Segmentos).</li>
          <li><strong>Como jogar:</strong> escolha entre <em>4‚Äì5 respostas muito parecidas</em>. Suas decis√µes alteram <em>Humor</em>, <em>Empatia</em>, <em>Clareza</em> e <em>T√©cnica</em>.</li>
          <li><strong>Sucesso por miss√£o:</strong> Humor ‚â• <b>60</b> e Clareza ‚â• <b>3</b>.</li>
          <li><strong>Pontua√ß√£o por miss√£o:</strong> <code>Humor + (Empatia√ó5) + (Clareza√ó7) + (T√©cnica√ó6) + b√¥nus 50</code> se cumprir o crit√©rio.</li>
          <li><strong>Importante:</strong> As pegadinhas continuam ativas (promessas absolutas, fechamento incompleto, jarg√£o/impositivo, adiar sem plano, etc.).</li>
        </ul>
      </div>
    </section>

    <section id="screenGame" class="screen">
      <div class="hud" id="hud">
        <div class="hud-left"><span id="missionTitle">Miss√£o</span></div>
        <div class="hud-bars">
          <div class="bar"><div class="bar-label">Humor</div><div class="bar-track"><div class="bar-fill" id="barMood"></div></div></div>
          <div class="mini-metrics">
            <span>ü§ù Empatia: <b id="mEmp">0</b></span>
            <span>üß≠ Clareza: <b id="mCla">0</b></span>
            <span>üß© T√©cnica: <b id="mTec">0</b></span>
          </div>
        </div>
        <div class="hud-right"><button id="btnSkip" class="ghost small">‚è≠ Pular miss√£o</button></div>
      </div>
      <div class="chat" id="chat"></div>
      <div class="choices" id="choices"></div>
    </section>

    <section id="screenEnd" class="screen">
      <div class="panel">
        <h2>Resultado</h2>
        <div id="summary"></div>
        <div class="cta-row">
          <button id="btnSaveScore" class="primary">Salvar no Ranking</button>
          <button id="btnPlayAgain" class="ghost">Jogar novamente</button>
        </div>
      </div>
    </section>

    <!-- Overlay de transi√ß√£o entre miss√µes -->
    <div id="transitionOverlay" aria-live="polite" aria-atomic="true">
      <div class="overlay-card">
        <div class="overlay-badge" id="ovBadge">Miss√£o</div>
        <h3 id="ovTitle">Pr√≥xima miss√£o</h3>
        <p class="muted" id="ovSubtitle">Preparando o pr√≥ximo atendimento‚Ä¶</p>
        <div class="overlay-progress"><div class="bar"></div></div>
      </div>
    </div>

    <dialog id="modalRanking" class="modal">
      <h3>Ranking Local</h3>
      <ol id="rankingList" class="ranking"></ol>
      <div class="cta-row">
        <button id="btnClearRanking" class="danger">Limpar</button>
        <button id="btnCloseRanking" class="primary">Fechar</button>
      </div>
    </dialog>

    <dialog id="modalInfo" class="modal">
      <h3>Diferencie alternativas similares</h3>
      <ul>
        <li>Use o <strong>nome do cliente</strong> e confirme <strong>entendimento</strong>.</li>
        <li>Evite <strong>promessas absolutas</strong>, <strong>jarg√µes</strong> e <strong>tom impositivo</strong>.</li>
        <li><strong>Fechamento completo:</strong> valor total, n¬∫ de parcelas, datas (inclui 1¬∫ vencimento) e n¬∫ da negocia√ß√£o.</li>
      </ul>
      <div class="cta-row"><button id="btnCloseInfo" class="primary">Ok</button></div>
    </dialog>
  </div>
  <script src="script.js"></script>
</body>
</html>
